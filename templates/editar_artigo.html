<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Artigo - Estandarte Cristão</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .font-bebas { font-family: 'Bebas Neue', sans-serif; }
    </style>
</head>
<body class="bg-gray-800 text-white p-8">
    <div class="container mx-auto max-w-3xl">
        <h1 class="text-4xl font-bebas text-amber-400 mb-8">Editar Artigo</h1>
        
        <form method="POST" enctype="multipart/form-data" class="space-y-6 bg-gray-700 p-8 rounded-lg">
            <div>
                <label for="titulo" class="block mb-2 font-bold">Título do Artigo</label>
                <input type="text" name="titulo" id="titulo" class="w-full bg-gray-600 p-3 rounded border border-gray-500 focus:outline-none focus:border-amber-400" value="{{ artigo.titulo }}" required>
            </div>
            <div>
                <label for="resumo" class="block mb-2 font-bold">Resumo</label>
                <input type="text" name="resumo" id="resumo" class="w-full bg-gray-600 p-3 rounded border border-gray-500 focus:outline-none focus:border-amber-400" value="{{ artigo.resumo }}" required>
            </div>
            
            <!-- SEÇÃO ATUALIZADA PARA A CAPA -->
            <div>
                <label class="block mb-2 font-bold">Capa Atual</label>
                <img src="{{ url_for('static', filename='article_covers/' + artigo.nome_arquivo_capa) }}" alt="Capa atual" class="w-1/2 rounded-lg shadow-md mb-4">
                
                <label for="arquivo_capa" class="block mb-2 font-bold mt-4">Enviar Nova Capa (opcional)</label>
                <p class="text-sm text-gray-400 mb-2">Selecione uma nova imagem apenas se quiser substituir a atual.</p>
                <input type="file" name="arquivo_capa" id="arquivo_capa" accept="image/png, image/jpeg, image/jpg" class="w-full text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-amber-500 file:text-gray-900 hover:file:bg-amber-400">
            </div>

            <div>
                <label for="conteudo" class="block mb-2 font-bold">Conteúdo Completo</label>
                <textarea name="conteudo" id="conteudo" rows="20" class="w-full bg-gray-600 p-3 rounded border border-gray-500 focus:outline-none focus:border-amber-400" required>{{ artigo.conteudo }}</textarea>
            </div>
            
            <div class="flex justify-end gap-4">
                <a href="{{ url_for('admin') }}" class="bg-gray-500 text-white font-bold py-3 px-6 rounded hover:bg-gray-400">Cancelar</a>
                <button type="submit" class="bg-amber-500 text-gray-900 font-bold py-3 px-6 rounded hover:bg-amber-400">Salvar Alterações</button>
            </div>
        </form>
    </div>
</body>
</html>
